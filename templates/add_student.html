{% extends "base.html" %}
{% block content %}

{% if session.get("role") != "ADMIN" %}
    <h3 style="color:red;">Unauthorized Access</h3>
    <p>You do not have permission to add student records.</p>
    <a href="{{ url_for('index') }}" class="btn btn-secondary">Go Back</a>

{% else %}

<div class="page-container">

    <h2>Add New Student</h2>

    <form method="POST" novalidate>

        <!-- ================= BASIC DETAILS ================= -->
        <h3>Student Details</h3>

        <div class="form-row">
            <div class="form-group">
                <label>Student Name *</label>
                <input
                    type="text"
                    name="name"
                    required
                    pattern="[A-Za-z ]{2,}"
                    title="Name must contain only letters"
                >
            </div>

            <div class="form-group">
                <label>Roll Number *</label>
                <input
                    type="text"
                    name="roll_no"
                    required
                    maxlength="20"
                >
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>College *</label>
                <input
                    type="text"
                    name="college"
                    required
                >
            </div>

            <div class="form-group">
                <label>Phone *</label>
                <input
                    type="text"
                    name="phone"
                    required
                    pattern="[0-9]{10}"
                    maxlength="10"
                    inputmode="numeric"
                    title="Enter a valid 10-digit phone number"
                >
            </div>
        </div>

        <div class="form-group">
            <label>Email *</label>
            <input
                type="email"
                name="email"
                required
            >
        </div>

        <!-- ================= SCHOOL MARKS ================= -->
        <h3>School Marks</h3>

        <div class="form-row">
            <div class="form-group">
                <label>10th Marks</label>
                <input
                    type="number"
                    name="marks_10th"
                    min="0"
                    max="100"
                >
            </div>

            <div class="form-group">
                <label>12th Marks</label>
                <input
                    type="number"
                    name="marks_12th"
                    min="0"
                    max="100"
                >
            </div>
        </div>

        <!-- ================= COLLEGE MARKS ================= -->
        <h3>College Marks</h3>

        <div class="form-row">
            <div class="form-group">
                <label>Year 1 Marks</label>
                <input
                    type="number"
                    name="marks1"
                    min="0"
                    max="100"
                >
            </div>

            <div class="form-group">
                <label>Year 2 Marks</label>
                <input
                    type="number"
                    name="marks2"
                    min="0"
                    max="100"
                >
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>Year 3 Marks</label>
                <input
                    type="number"
                    name="marks3"
                    min="0"
                    max="100"
                >
            </div>

            <div class="form-group">
                <label>Year 4 Marks</label>
                <input
                    type="number"
                    name="marks4"
                    min="0"
                    max="100"
                >
            </div>
        </div>

        <!-- ================= ACTIONS ================= -->
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                Save Student
            </button>

            <a href="{{ url_for('index') }}" class="btn btn-secondary">
                Cancel
            </a>
        </div>

    </form>
</div>

{% endif %}
{% endblock %}
