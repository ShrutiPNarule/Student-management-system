{% extends "base.html" %}

{% block content %}

<!-- REPORT NAVIGATION TABS -->
<div style="margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
    <a href="{{ url_for('reports') }}" class="btn btn-primary" style="background: #3F4F5F; color: white;">ğŸ“Š Student Reports</a>
    <a href="{{ url_for('academic_report') }}" class="btn btn-secondary" style="background: #5A6B7D; color: white;">ğŸ“š Academic Analysis</a>
    <a href="{{ url_for('college_report') }}" class="btn btn-secondary" style="background: #5A6B7D; color: white;">ğŸ« College-wise Report</a>
    <a href="{{ url_for('attendance_report') }}" class="btn btn-secondary" style="background: #5A6B7D; color: white;">ğŸ“‹ Attendance Report</a>
    <a href="{{ url_for('category_stats') }}" class="btn btn-secondary" style="background: #5A6B7D; color: white;">ğŸ“ˆ Category Stats</a>
</div>

<div class="form-card" style="max-width: 800px; margin: 0 auto;">
    <h2>ğŸ“Š Generate Student Reports</h2>
    <p style="color: #666; margin-bottom: 20px;">Filter students and generate PDF reports easily</p>

    <form method="POST" action="{{ url_for('generate_report') }}" novalidate>
        
        <!-- SECTION 1: ACADEMIC PERFORMANCE -->
        <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
            <h4 style="color: #1a3a52; margin-bottom: 15px;">ğŸ“š Academic Performance</h4>
            
            <div class="form-row">
                <div class="form-group" style="flex: 1; margin-right: 10px;">
                    <label>10th Marks Min</label>
                    <input type="number" name="marks_10th_min" min="0" max="100" placeholder="e.g., 70">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>10th Marks Max</label>
                    <input type="number" name="marks_10th_max" min="0" max="100" placeholder="e.g., 100">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group" style="flex: 1; margin-right: 10px;">
                    <label>12th Marks Min</label>
                    <input type="number" name="marks_12th_min" min="0" max="100" placeholder="e.g., 75">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>12th Marks Max</label>
                    <input type="number" name="marks_12th_max" min="0" max="100" placeholder="e.g., 100">
                </div>
            </div>
        </div>

        <!-- SECTION 2: INSTITUTION & LOCATION -->
        <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
            <h4 style="color: #1a3a52; margin-bottom: 15px;">ğŸ« Institution & Location</h4>
            
            <div class="form-row">
                <div class="form-group" style="flex: 1; margin-right: 10px;">
                    <label>School</label>
                    <select name="school_id">
                        <option value="">-- All Schools --</option>
                        {% for school_id, school_name in schools %}
                            <option value="{{ school_id }}">{{ school_name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>College</label>
                    <select name="college_id">
                        <option value="">-- All Colleges --</option>
                        {% for college_id, college_name in colleges %}
                            <option value="{{ college_id }}">{{ college_name }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group" style="flex: 1; margin-right: 10px;">
                    <label>State</label>
                    <select name="state">
                        <option value="">-- All States --</option>
                        {% for state in states %}
                            <option value="{{ state }}">{{ state }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>School Board</label>
                    <select name="board">
                        <option value="">-- All Boards --</option>
                        {% for board in boards %}
                            <option value="{{ board }}">{{ board }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>

        <!-- SECTION 3: STATUS -->
        <div style="background: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
            <h4 style="color: #1a3a52; margin-bottom: 15px;">ğŸ‘¤ Student Status</h4>
            
            <div class="form-row">
                <div class="form-group" style="flex: 1; margin-right: 10px;">
                    <label>Current Status</label>
                    <select name="current_status">
                        <option value="">-- All --</option>
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                        <option value="graduated">Graduated</option>
                    </select>
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>College Type</label>
                    <select name="college_type">
                        <option value="">-- All Types --</option>
                        {% for college_type in college_types %}
                            <option value="{{ college_type }}">{{ college_type }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>

        <!-- ACTION BUTTONS -->
        <div class="form-actions" style="margin-top: 30px;">
            <button type="submit" class="btn btn-primary">ğŸ“¥ Generate PDF Report</button>
            <button type="reset" class="btn btn-secondary">ğŸ”„ Clear All Filters</button>
        </div>
    </form>

    <!-- QUICK TIPS -->
    <div style="background: #e7f3ff; padding: 15px; border-radius: 5px; margin-top: 20px; border-left: 4px solid #2196F3;">
        <strong style="color: #1a3a52;">ğŸ’¡ Quick Tips:</strong>
        <ul style="margin: 10px 0 0 20px;">
            <li>Leave filters empty to include all students</li>
            <li>Combine multiple filters for specific results</li>
            <li>Report will be generated in PDF format</li>
        </ul>
    </div>
</div>

<style>
    .form-row {
        display: flex;
        gap: 10px;
        margin-bottom: 15px;
    }

    .form-group {
        display: flex;
        flex-direction: column;
    }

    .form-group label {
        font-weight: 600;
        color: #333;
        margin-bottom: 5px;
        font-size: 14px;
    }

    .form-group input,
    .form-group select {
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
    }

    .form-group input:focus,
    .form-group select:focus {
        outline: none;
        border-color: #2196F3;
        box-shadow: 0 0 5px rgba(33, 150, 243, 0.3);
    }

    h4 {
        font-size: 16px;
        margin: 0;
    }
</style>
{% endblock %}
