{% extends "base.html" %}

{% block content %}

{% if session.get("role") != "AUDITOR" %}
    <h3 style="color:red;">Unauthorized Access</h3>
    <p>You do not have permission to view activity logs.</p>
    <a href="{{ url_for('index') }}" class="btn btn-secondary">Go Back</a>

{% else %}

<div class="section-header">
    <h2>Activity Logs</h2>
    <a href="{{ url_for('index') }}" class="btn btn-primary">â¬… Back to Students</a>
</div>

{% if logs %}
<div class="table-wrapper">
<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>User Email</th>
            <th>Role</th>
            <th>Action</th>
            <th>Details</th>
            <th>Timestamp</th>
        </tr>
    </thead>

    <tbody>
        {% for log in logs %}
        <tr>
            <td>{{ log[0] }}</td>
            <td>{{ log[1] }}</td>
            <td>{{ log[2] }}</td>
            <td>{{ log[3] }}</td>
            <td>{{ log[4] }}</td>
            <td>{{ log[5] }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>
{% else %}
<p>No activity logs found.</p>
{% endif %}

{% endif %}
{% endblock %}
